<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n l√Ω S·∫£n ph·∫©m - DynamoDB + S3</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <div class="container">
        <h1>üì¶ Qu·∫£n l√Ω S·∫£n ph·∫©m</h1>
        <p class="subtitle">S·ª≠ d·ª•ng DynamoDB + S3 + EC2</p>

        <div class="actions">
            <a href="/add" class="btn btn-primary">‚ûï Th√™m s·∫£n ph·∫©m m·ªõi</a>
        </div>

        <table>
            <thead>
                <tr>
                    <th>H√¨nh ·∫£nh</th>
                    <th>T√™n s·∫£n ph·∫©m</th>
                    <th>Gi√°</th>
                    <th>S·ªë l∆∞·ª£ng</th>
                    <th>H√†nh ƒë·ªông</th>
                </tr>
            </thead>
            <tbody>
                <% if (products.length===0) { %>
                    <tr>
                        <td colspan="5" style="text-align: center;">
                            Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o. <a href="/add">Th√™m s·∫£n ph·∫©m ƒë·∫ßu ti√™n</a>
                        </td>
                    </tr>
                    <% } else { %>
                        <% products.forEach(product=> { %>
                            <tr>
                                <td>
                                    <% if (product.url_image) { %>
                                        <img src="<%= product.url_image %>" alt="<%= product.name %>"
                                            class="product-image">
                                        <% } else { %>
                                            <div class="no-image">Kh√¥ng c√≥ ·∫£nh</div>
                                            <% } %>
                                </td>
                                <td>
                                    <%= product.name %>
                                </td>
                                <td>
                                    <%= Number(product.price).toLocaleString('vi-VN') %> VNƒê
                                </td>
                                <td>
                                    <%= product.quantity %>
                                </td>
                                <td class="actions-cell">
                                    <a href="/edit/<%= product.productId %>" class="btn btn-edit">‚úèÔ∏è S·ª≠a</a>
                                    <form action="/delete/<%= product.productId %>" method="POST"
                                        style="display: inline;"
                                        onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y?');">
                                        <button type="submit" class="btn btn-delete">üóëÔ∏è X√≥a</button>
                                    </form>
                                </td>
                            </tr>
                            <% }) %>
                                <% } %>
            </tbody>
        </table>
    </div>
</body>

</html>